import{c as b,d as $}from"./dayjs.min-633259b2.js";import{Z as G}from"./index-cff6e716.js";var Y={},y={get exports(){return Y},set exports(e){Y=e}};(function(e,E){(function(i,N){e.exports=N()})(b,function(){var i={year:0,month:1,day:2,hour:3,minute:4,second:5},N={};return function(s,R,O){var U,c=function(T,D,u){u===void 0&&(u={});var r=new Date(T),I=function(C,A){A===void 0&&(A={});var _=A.timeZoneName||"short",F=C+"|"+_,f=N[F];return f||(f=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:C,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:_}),N[F]=f),f}(D,u);return I.formatToParts(r)},v=function(T,D){for(var u=c(T,D),r=[],I=0;I<u.length;I+=1){var C=u[I],A=C.type,_=C.value,F=i[A];F>=0&&(r[F]=parseInt(_,10))}var f=r[3],m=f===24?0:f,h=r[0]+"-"+r[1]+"-"+r[2]+" "+m+":"+r[4]+":"+r[5]+":000",g=+T;return(O.utc(h).valueOf()-(g-=g%1e3))/6e4},S=R.prototype;S.tz=function(T,D){T===void 0&&(T=U);var u=this.utcOffset(),r=this.toDate(),I=r.toLocaleString("en-US",{timeZone:T}),C=Math.round((r-new Date(I))/1e3/60),A=O(I).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-C,!0);if(D){var _=A.utcOffset();A=A.add(u-_,"minute")}return A.$x.$timezone=T,A},S.offsetName=function(T){var D=this.$x.$timezone||O.tz.guess(),u=c(this.valueOf(),D,{timeZoneName:T}).find(function(r){return r.type.toLowerCase()==="timezonename"});return u&&u.value};var L=S.startOf;S.startOf=function(T,D){if(!this.$x||!this.$x.$timezone)return L.call(this,T,D);var u=O(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return L.call(u,T,D).tz(this.$x.$timezone,!0)},O.tz=function(T,D,u){var r=u&&D,I=u||D||U,C=v(+O(),I);if(typeof T!="string")return O(T).tz(I);var A=function(m,h,g){var p=m-60*h*1e3,B=v(p,g);if(h===B)return[p,h];var a=v(p-=60*(B-h)*1e3,g);return B===a?[p,B]:[m-60*Math.min(B,a)*1e3,Math.max(B,a)]}(O.utc(T,r).valueOf(),C,I),_=A[0],F=A[1],f=O(_).utcOffset(F);return f.$x.$timezone=I,f},O.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},O.tz.setDefault=function(T){U=T}}})})(y);const M=Y;var x={},X={get exports(){return x},set exports(e){x=e}};(function(e,E){(function(i,N){e.exports=N()})(b,function(){var i="minute",N=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(R,O,U){var c=O.prototype;U.utc=function(r){var I={date:r,utc:!0,args:arguments};return new O(I)},c.utc=function(r){var I=U(this.toDate(),{locale:this.$L,utc:!0});return r?I.add(this.utcOffset(),i):I},c.local=function(){return U(this.toDate(),{locale:this.$L,utc:!1})};var v=c.parse;c.parse=function(r){r.utc&&(this.$u=!0),this.$utils().u(r.$offset)||(this.$offset=r.$offset),v.call(this,r)};var S=c.init;c.init=function(){if(this.$u){var r=this.$d;this.$y=r.getUTCFullYear(),this.$M=r.getUTCMonth(),this.$D=r.getUTCDate(),this.$W=r.getUTCDay(),this.$H=r.getUTCHours(),this.$m=r.getUTCMinutes(),this.$s=r.getUTCSeconds(),this.$ms=r.getUTCMilliseconds()}else S.call(this)};var L=c.utcOffset;c.utcOffset=function(r,I){var C=this.$utils().u;if(C(r))return this.$u?0:C(this.$offset)?L.call(this):this.$offset;if(typeof r=="string"&&(r=function(f){f===void 0&&(f="");var m=f.match(N);if(!m)return null;var h=(""+m[0]).match(s)||["-",0,0],g=h[0],p=60*+h[1]+ +h[2];return p===0?0:g==="+"?p:-p}(r),r===null))return this;var A=Math.abs(r)<=16?60*r:r,_=this;if(I)return _.$offset=A,_.$u=r===0,_;if(r!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(A+F,i)).$offset=A,_.$x.$localOffset=F}else _=this.utc();return _};var T=c.format;c.format=function(r){var I=r||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return T.call(this,I)},c.valueOf=function(){var r=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*r},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var D=c.toDate;c.toDate=function(r){return r==="s"&&this.$offset?U(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():D.call(this)};var u=c.diff;c.diff=function(r,I,C){if(r&&this.$u===r.$u)return u.call(this,r,I,C);var A=this.local(),_=U(r).local();return u.call(A,_,I,C)}}})})(X);const K=x;function J(e,E){return e.reduce((i,N)=>{const s=E(N),R=i[s]??[];return R.push(N),{...i,[s]:R}},{})}function d(e,E){return Object.entries(e).map(([i,N])=>[i,E(N,i)]).reduce((i,[N,s])=>({...i,[N]:s}),{})}function H(e){return Object.values(e).reduce((E,i)=>[...E,...Array.isArray(i)?i:[i]],[])}function V(e,E){return Object.entries(e).filter(([i,N])=>E(N,i)).reduce((i,[N,s])=>({...i,[N]:s}),{})}function w(e,E){return e.order-E.order}var t=(e=>(e.KEYWORD="KEYWORD",e.UNOFFICIAL_LONG_TITLE="UNOFFICIAL_LONG_TITLE",e.UNOFFICIAL_SHORT_TITLE="UNOFFICIAL_SHORT_TITLE",e.UNOFFICIAL_ABBREVIATION="UNOFFICIAL_ABBREVIATION",e.UNOFFICIAL_REFERENCE="UNOFFICIAL_REFERENCE",e.DIVERGENT_DOCUMENT_NUMBER="DIVERGENT_DOCUMENT_NUMBER",e.REFERENCE_NUMBER="REFERENCE_NUMBER",e.DEFINITION="DEFINITION",e.RIS_ABBREVIATION_INTERNATIONAL_LAW="RIS_ABBREVIATION_INTERNATIONAL_LAW",e.AGE_OF_MAJORITY_INDICATION="AGE_OF_MAJORITY_INDICATION",e.VALIDITY_RULE="VALIDITY_RULE",e.LEAD_JURISDICTION="LEAD_JURISDICTION",e.LEAD_UNIT="LEAD_UNIT",e.PARTICIPATION_TYPE="PARTICIPATION_TYPE",e.PARTICIPATION_INSTITUTION="PARTICIPATION_INSTITUTION",e.SUBJECT_FNA="SUBJECT_FNA",e.SUBJECT_PREVIOUS_FNA="SUBJECT_PREVIOUS_FNA",e.SUBJECT_GESTA="SUBJECT_GESTA",e.SUBJECT_BGB_3="SUBJECT_BGB_3",e.YEAR="YEAR",e.DATE="DATE",e.RANGE_START="RANGE_START",e.RANGE_END="RANGE_END",e.ANNOUNCEMENT_MEDIUM="ANNOUNCEMENT_MEDIUM",e.ANNOUNCEMENT_GAZETTE="ANNOUNCEMENT_GAZETTE",e.ADDITIONAL_INFO="ADDITIONAL_INFO",e.EXPLANATION="EXPLANATION",e.AREA_OF_PUBLICATION="AREA_OF_PUBLICATION",e.NUMBER_OF_THE_PUBLICATION_IN_THE_RESPECTIVE_AREA="NUMBER_OF_THE_PUBLICATION_IN_THE_RESPECTIVE_AREA",e.EU_GOVERNMENT_GAZETTE="EU_GOVERNMENT_GAZETTE",e.SERIES="SERIES",e.OTHER_OFFICIAL_REFERENCE="OTHER_OFFICIAL_REFERENCE",e.NUMBER="NUMBER",e.PAGE="PAGE",e.EDITION="EDITION",e.ENTITY="ENTITY",e.DECIDING_BODY="DECIDING_BODY",e.RESOLUTION_MAJORITY="RESOLUTION_MAJORITY",e.TYPE_NAME="TYPE_NAME",e.NORM_CATEGORY="NORM_CATEGORY",e.TEMPLATE_NAME="TEMPLATE_NAME",e))(t||{}),z=(e=>(e.AMENDMENT_NORM="AMENDMENT_NORM",e.BASE_NORM="BASE_NORM",e.TRANSITIONAL_NORM="TRANSITIONAL_NORM",e))(z||{}),Z=(e=>(e.NORM="NORM",e.SUBJECT_AREA="SUBJECT_AREA",e.LEAD="LEAD",e.PARTICIPATION="PARTICIPATION",e.CITATION_DATE="CITATION_DATE",e.AGE_INDICATION="AGE_INDICATION",e.DIGITAL_ANNOUNCEMENT="DIGITAL_ANNOUNCEMENT",e.PRINT_ANNOUNCEMENT="PRINT_ANNOUNCEMENT",e.EU_ANNOUNCEMENT="EU_ANNOUNCEMENT",e.OTHER_OFFICIAL_ANNOUNCEMENT="OTHER_OFFICIAL_ANNOUNCEMENT",e.NORM_PROVIDER="NORM_PROVIDER",e.OFFICIAL_REFERENCE="OFFICIAL_REFERENCE",e.DOCUMENT_TYPE="DOCUMENT_TYPE",e))(Z||{});function n(e){return e}function o(e){return e&&e.length>0?e:null}function q(e){return e??null}function k(e){return $.extend(K),$.extend(M),e&&e.length>0?$(e).utc().tz("Europe/Berlin").format("YYYY-MM-DD"):""}function l(e){return e?k(e):null}function Q(e){return JSON.parse(e)}function ee(e){return String(e)}function te(e){const E=Object.values(z).find(i=>i==e);if(E)return E;throw new Error(`Unknown Norm Category: "${e}"`)}const ne={[t.KEYWORD]:n,[t.UNOFFICIAL_LONG_TITLE]:n,[t.UNOFFICIAL_SHORT_TITLE]:n,[t.UNOFFICIAL_ABBREVIATION]:n,[t.UNOFFICIAL_REFERENCE]:n,[t.DIVERGENT_DOCUMENT_NUMBER]:n,[t.REFERENCE_NUMBER]:n,[t.DEFINITION]:n,[t.RIS_ABBREVIATION_INTERNATIONAL_LAW]:n,[t.AGE_OF_MAJORITY_INDICATION]:n,[t.VALIDITY_RULE]:n,[t.LEAD_JURISDICTION]:n,[t.LEAD_UNIT]:n,[t.PARTICIPATION_TYPE]:n,[t.PARTICIPATION_INSTITUTION]:n,[t.SUBJECT_FNA]:n,[t.SUBJECT_PREVIOUS_FNA]:n,[t.SUBJECT_GESTA]:n,[t.SUBJECT_BGB_3]:n,[t.DATE]:n,[t.YEAR]:n,[t.RANGE_START]:n,[t.RANGE_END]:n,[t.ANNOUNCEMENT_MEDIUM]:n,[t.ANNOUNCEMENT_GAZETTE]:n,[t.ADDITIONAL_INFO]:n,[t.EXPLANATION]:n,[t.AREA_OF_PUBLICATION]:n,[t.NUMBER_OF_THE_PUBLICATION_IN_THE_RESPECTIVE_AREA]:n,[t.EU_GOVERNMENT_GAZETTE]:n,[t.SERIES]:n,[t.OTHER_OFFICIAL_REFERENCE]:n,[t.NUMBER]:n,[t.PAGE]:n,[t.EDITION]:n,[t.ENTITY]:n,[t.DECIDING_BODY]:n,[t.RESOLUTION_MAJORITY]:Q,[t.TYPE_NAME]:n,[t.NORM_CATEGORY]:te,[t.TEMPLATE_NAME]:n},re={[t.KEYWORD]:n,[t.UNOFFICIAL_LONG_TITLE]:n,[t.UNOFFICIAL_SHORT_TITLE]:n,[t.UNOFFICIAL_ABBREVIATION]:n,[t.UNOFFICIAL_REFERENCE]:n,[t.DIVERGENT_DOCUMENT_NUMBER]:n,[t.REFERENCE_NUMBER]:n,[t.DEFINITION]:n,[t.RIS_ABBREVIATION_INTERNATIONAL_LAW]:n,[t.AGE_OF_MAJORITY_INDICATION]:n,[t.VALIDITY_RULE]:n,[t.LEAD_JURISDICTION]:n,[t.LEAD_UNIT]:n,[t.PARTICIPATION_TYPE]:n,[t.PARTICIPATION_INSTITUTION]:n,[t.SUBJECT_FNA]:n,[t.SUBJECT_PREVIOUS_FNA]:n,[t.SUBJECT_GESTA]:n,[t.SUBJECT_BGB_3]:n,[t.DATE]:k,[t.YEAR]:n,[t.RANGE_START]:n,[t.RANGE_END]:n,[t.ANNOUNCEMENT_MEDIUM]:n,[t.ANNOUNCEMENT_GAZETTE]:n,[t.ADDITIONAL_INFO]:n,[t.EXPLANATION]:n,[t.AREA_OF_PUBLICATION]:n,[t.NUMBER_OF_THE_PUBLICATION_IN_THE_RESPECTIVE_AREA]:n,[t.EU_GOVERNMENT_GAZETTE]:n,[t.SERIES]:n,[t.OTHER_OFFICIAL_REFERENCE]:n,[t.NUMBER]:n,[t.PAGE]:n,[t.EDITION]:n,[t.ENTITY]:n,[t.DECIDING_BODY]:n,[t.RESOLUTION_MAJORITY]:ee,[t.TYPE_NAME]:n,[t.NORM_CATEGORY]:n,[t.TEMPLATE_NAME]:n};function ie(e){const E=J(e,i=>i.type);return d(E,i=>i.sort(w).map(N=>ne[N.type](N.value)))}function oe(e){if(Object.entries(e).length==0)return null;const E=d(e,(i,N)=>i==null?void 0:i.map((s,R)=>({type:N,order:R+1,value:re[N](s)})));return H(E)}function j(e){const E=J(e,i=>i.name);return d(E,i=>i.sort(w).map(N=>({...ie(N.metadata??[]),...j(N.sections??[])})))}function W(e){if(Object.entries(e).length==0)return null;const E=d(e,(s,R)=>s==null?void 0:s.map((O,U)=>{const c=V(O,(S,L)=>Object.keys(t).includes(L)&&S!==void 0),v=V(O,(S,L)=>Object.keys(Z).includes(L)&&S!==void 0);return{name:R,order:U+1,metadata:oe(c),sections:W(v)}}));return H(E).filter(s=>s.metadata&&s.metadata.length>0||s.sections&&s.sections.length>0)}function Ee(e){const{metadataSections:E,...i}=e;return{metadataSections:j(E??[]),...i}}function Ne(e){return{applicationScopeArea:o(e.applicationScopeArea),applicationScopeEndDate:l(e.applicationScopeEndDate),applicationScopeStartDate:l(e.applicationScopeStartDate),categorizedReference:o(e.categorizedReference),celexNumber:o(e.celexNumber),completeCitation:o(e.completeCitation),digitalEvidenceAppendix:o(e.digitalEvidenceAppendix),digitalEvidenceExternalDataNote:o(e.digitalEvidenceExternalDataNote),digitalEvidenceLink:o(e.digitalEvidenceLink),digitalEvidenceRelatedData:o(e.digitalEvidenceRelatedData),divergentEntryIntoForceDate:l(e.divergentEntryIntoForceDate),divergentEntryIntoForceDateState:o(e.divergentEntryIntoForceDateState),divergentExpirationDate:l(e.divergentExpirationDate),divergentExpirationDateState:o(e.divergentExpirationDateState),documentCategory:o(e.documentCategory),documentNumber:o(e.documentNumber),documentStatusDate:l(e.documentStatusDate),documentStatusDescription:o(e.documentStatusDescription),documentStatusEntryIntoForceDate:l(e.documentStatusEntryIntoForceDate),documentStatusProof:o(e.documentStatusProof),documentStatusReference:o(e.documentStatusReference),documentStatusWorkNote:o(e.documentStatusWorkNote),documentTextProof:o(e.documentTextProof),entryIntoForceDate:l(e.entryIntoForceDate),entryIntoForceDateState:o(e.entryIntoForceDateState),entryIntoForceNormCategory:o(e.entryIntoForceNormCategory),eli:o(e.eli),expirationDate:l(e.expirationDate),expirationDateState:o(e.expirationDateState),expirationNormCategory:o(e.expirationNormCategory),isExpirationDateTemp:q(e.isExpirationDateTemp),officialAbbreviation:o(e.officialAbbreviation),officialLongTitle:o(e.officialLongTitle)??"",officialShortTitle:o(e.officialShortTitle),otherDocumentNote:o(e.otherDocumentNote),otherFootnote:o(e.otherFootnote),footnoteChange:o(e.footnoteChange),footnoteComment:o(e.footnoteComment),footnoteDecision:o(e.footnoteDecision),footnoteStateLaw:o(e.footnoteStateLaw),footnoteEuLaw:o(e.footnoteEuLaw),otherStatusNote:o(e.otherStatusNote),principleEntryIntoForceDate:l(e.principleEntryIntoForceDate),principleEntryIntoForceDateState:o(e.principleEntryIntoForceDateState),principleExpirationDate:l(e.principleExpirationDate),principleExpirationDateState:o(e.principleExpirationDateState),publicationDate:l(e.publicationDate),reissueArticle:o(e.reissueArticle),reissueDate:l(e.reissueDate),reissueNote:o(e.reissueNote),reissueReference:o(e.reissueReference),repealArticle:o(e.repealArticle),repealDate:l(e.repealDate),repealNote:o(e.repealNote),repealReferences:o(e.repealReferences),risAbbreviation:o(e.risAbbreviation),statusDate:l(e.statusDate),statusDescription:o(e.statusDescription),statusNote:o(e.statusNote),statusReference:o(e.statusReference),text:o(e.text)}}const P={FILE_TOO_BIG:{title:"Die Datei überschreitet die maximale Dateigröße von 20 MB."},NO_INTERNET_CONNECTION:{title:"Der Upload ist fehlgeschlagen.",description:"Bitte prüfen Sie Ihre Internetverbindung und versuchen Sie es erneut."},WRONG_FILE_FORMAT:{title:"Das Dateiformat wird nicht unterstützt.",description:"Bitte verwenden Sie eine Zip-Datei."},IMPORT_ERROR:{title:"Datei konnte nicht importiert werden."},GENERATION_ERROR:{title:"Zip-Datei konnte nicht generiert werden."},LOADING_ERROR:{title:"Dokumentationseinheit konnte nicht geladen werden."},EDIT_ERROR:{title:"Dokumentationseinheit konnte nicht bearbeitet werden."}};async function ce(){const{data:e,status:E,error:i}=await G.get("norms");return E>=300||i?{status:E,error:{title:"Dokumentationseinheiten konnten nicht geladen werden."}}:{status:E,data:e.data}}async function Te(e){const{status:E,data:i,error:N}=await G.get(`norms/${e}`);return E>=300||N||i==null?{status:E,error:P.LOADING_ERROR}:{status:E,data:Ee(i)}}async function Ae(e,E,i){const N={Accept:"application/json","Content-Type":"application/json"},s={...Ne(i),metadataSections:W(E)??[]},{status:R,error:O}=await G.put(`norms/${e}`,{headers:N},s);return R>=300||O?{status:R,error:P.EDIT_ERROR}:{status:R,data:void 0}}async function Oe(e){if(!navigator.onLine)return{status:503,error:P.NO_INTERNET_CONNECTION};const i={"Content-Type":"application/zip","X-Filename":e.name},{status:N,error:s,data:R}=await G.post("norms",{headers:i},e);return N>=400||s?N===413?{status:N,error:P.FILE_TOO_BIG}:{status:N,error:P.IMPORT_ERROR}:{status:N,data:R==null?void 0:R.guid}}function ue(e,E){return`/api/v1/norms/${e}/files/${E}`}async function _e(e){const{status:E,error:i}=await G.post(`norms/${e}/files`);return E>=400||i?{status:E,error:P.GENERATION_ERROR}:{status:E,data:"Datei wurde erstellt."}}export{Z as M,z as N,ue as a,_e as b,Te as c,Ae as e,ce as g,Oe as i,M as t,K as u};
