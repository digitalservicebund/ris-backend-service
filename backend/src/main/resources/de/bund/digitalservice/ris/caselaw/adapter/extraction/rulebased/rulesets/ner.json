{
  "$schema": "_schema.json",
  "name": "ner",
  "skip_sections": ["reasons", "case_facts", "decision_reasons"],
  "vars": {
    "DOC_TYPE": "(?i)^(urteil|beschluss|versäumnisurteil|entscheidung)$",
    "FED_COURT": "(?i)^(bundesgerichtshof|bgh|bundesfinanzhof|bfh|bundesarbeitsgericht|bag|bundessozialgericht|bsg|bundesverwaltungsgericht|bverwg|bundesverfassungsgericht|bverfg|bundespatentgericht|bpatg)?$",
    "LOWER_COURT": "^(Amtsgericht|AG|Landgericht|LG|Oberlandesgericht|OLG|Kammergericht|KG|Arbeitsgericht|ArbG|Landesarbeitsgericht|LAG|Sozialgericht|SG|Landessozialgericht|LSG|Verwaltungsgericht|VG|Oberverwaltungsgericht|OVG|Finanzgericht|FG|Anwaltsgerichtshof|AGH)$",
    "LANDES": "^(Sächsisches|Bayerisches|Hessisches|Brandenburgisches|Thüringisches|Thüringer|Berliner|Hamburgisches|Bremisches|Schleswig-Holsteinisches|Niedersächsisches)$",
    "FN_SUFFIX": "^(WEG|B|E|F|jur|jug|U|G|Z|K|AO|GrE|Erb|WS)$"
  },
  "rules": [
    {
      "label": "date",
      "type": "extraction",
      "patterns": [
        "\\d+.?\\s+(?:Januar|Februar|März|April|Mai|Juni|Juli|August|September|Oktober|November|Dezember)\\s+\\d{4}",
        "\\d{2}\\.\\d{2}\\.\\d{4}"
      ],
      "normalizers": ["date_to_iso"]
    },
    {
      "label": "document_type",
      "type": "extraction",
      "patterns": [[{ "TEXT": { "REGEX": "$DOC_TYPE" } }]]
    },
    {
      "label": "court",
      "type": "extraction",
      "patterns": [
        [{ "TEXT": { "REGEX": "$FED_COURT" } }],
        [
          { "TEXT": { "REGEX": "$LOWER_COURT" } },
          { "IS_TITLE": true },
          { "TEXT": { "REGEX": "^[IVX]+$" }, "OP": "?" }
        ],
        [
          { "TEXT": { "REGEX": "$LOWER_COURT" } },
          { "TEXT": "des" },
          { "TEXT": "Landes", "OP": "?" },
          { "IS_TITLE": true }
        ],
        [
          { "TEXT": { "REGEX": "$LOWER_COURT" } },
          { "IS_TITLE": true },
          { "LOWER": { "IN": ["am", "an", "der", "vor", "dem"] }, "OP": "+" },
          { "IS_TITLE": true }
        ],
        [
          { "TEXT": { "REGEX": "$LANDES" } },
          { "TEXT": { "REGEX": "$LOWER_COURT" } }
        ]
      ],
      "greedy": "LONGEST"
    },
    {
      "label": "file_number",
      "type": "extraction",
      "_comments": [
        "a) [Senate] [Register] [Number] [/] [Year]: 'III ZR 407/23', '1 StR 299/25', 'VIa ZR 135/22', 'WpSt (R) 1/24', 'AnwZ (Brfg) 20/252'",
        "b) Longer patterns: '2 KLs 500 Js 22402/22', 'VIII KLs 104 Js 27144/23', '2 KLs 500 Js 22402/22 (3)', '12 KLs 119/24 jug (3)'",
        "c) [number(letter)?] [letter] [number] [/] [year]: '16a U 172/19'",
        "d) [number] [-] [number] [letter] [number] [/] [year]: '2-23 O 177/20', 'I-34 U 141/19'",
        "e) [IVX-number] [letter] [number] [/] [year]: 'I-34 U 141/19'"
      ],
      "patterns": [
        [
          { "IS_DIGIT": true, "OP": "?" },
          { "TEXT": { "REGEX": "^[A-Za-z0-9]+$" } },
          { "TEXT": "(", "OP": "?" },
          { "IS_ALPHA": true, "OP": "?" },
          { "TEXT": ")", "OP": "?" },
          { "IS_DIGIT": true },
          { "TEXT": "/" },
          { "IS_DIGIT": true },
          { "TEXT": { "REGEX": "$FN_SUFFIX" }, "OP": "?" },
          { "TEXT": "(", "OP": "?" },
          { "TEXT": { "REGEX": "^\\w{1,4}$" }, "OP": "?" },
          { "TEXT": ")", "OP": "?" }
        ],
        [
          { "IS_DIGIT": true, "OP": "?" },
          { "TEXT": { "REGEX": "^[IVX0-9]+$" }, "OP": "?" },
          { "TEXT": { "REGEX": "^[A-Za-z]+s$" }, "OP": "?" },
          { "IS_DIGIT": true },
          { "IS_ALPHA": true },
          { "IS_DIGIT": true },
          { "TEXT": "/" },
          { "IS_DIGIT": true },
          { "TEXT": { "REGEX": "$FN_SUFFIX" }, "OP": "?" },
          { "TEXT": "(", "OP": "?" },
          { "TEXT": { "REGEX": "^\\w{1,4}$" }, "OP": "?" },
          { "TEXT": "/", "OP": "?" },
          { "IS_DIGIT": true, "OP": "?" },
          { "TEXT": ")", "OP": "?" }
        ],
        [
          { "TEXT": { "REGEX": "^[0-9]+[a-z]$" } },
          { "IS_ALPHA": true },
          { "IS_DIGIT": true },
          { "TEXT": "/" },
          { "IS_DIGIT": true }
        ],
        [
          { "TEXT": { "REGEX": "^[0-9]{1,2}$" } },
          { "TEXT": "-" },
          { "TEXT": { "REGEX": "^[0-9]{1,3}$" } },
          { "IS_ALPHA": true },
          { "IS_DIGIT": true },
          { "TEXT": "/" },
          { "IS_DIGIT": true }
        ],
        [
          { "TEXT": { "REGEX": "^[IVX]{1,2}-[0-9]{1,3}$" } },
          { "IS_ALPHA": true },
          { "IS_DIGIT": true },
          { "TEXT": "/" },
          { "IS_DIGIT": true }
        ]
      ],
      "greedy": "LONGEST"
    }
  ]
}
